{"version":3,"sources":["img/stand_up_logo.png","reducers/Article.js","constants.js","store/global.js","FirebaseDao.js","config.js","actions/Article.js","PopCard.js","Profile.js","Card.js","Editor.js","Embedly.js","CardList.js","Home.js","NotFound.js","Login.js","App.js","index.js"],"names":["module","exports","getArticles","state","action","console","log","type","articles_of_mine","cUser","firebase","auth","currentUser","articles","forEach","article","user","uid","push","Object","assign","reducer","combineReducers","articleReducers","routing","routerReducer","store","createStore","applyMiddleware","thunk","FirebaseDao","config","apps","length","this","firebaseApp","initializeApp","postData","database","ref","child","key","updates","update","Promise","resolve","remove","off","pagesize","callback","orderByKey","limitToLast","on","firebaseui","AuthUI","signOut","firebase_config","apiKey","process","authDomain","databaseURL","storageBucket","messagingSenderId","dao","loadArticles","dispatch","list","items","item","val","reverse","PopCard","props","isPop","className","href","onClick","logout","Component","connect","Profile","undefined","onAuthStateChanged","setState","popProfile","displayName","src","photoURL","alt","to","Card","cardInfo","url","target","links","thumbnail","meta","title","description","site","Editor","handleSubmit","bind","onPaste","editorChange","getCard","hasValue","detectURL","getArticle","getForcedState","embedlyUrl","content","request","get","params","api_key","then","response","data","catch","e","event","preventDefault","submit","currentTarget","textContent","clipboardData","getAsString","text","checkText","obj","keyCode","email","urls","match","value","trim","contentEditable","placeholder","onKeyUp","dangerouslySetInnerHTML","__html","disabled","CardList","index","map","createCard","default","Home","newKey","forceUpdate","logo","NotFound","Login","ui","getUI","uiConfig","window","location","origin","GoogleAuthProvider","PROVIDER_ID","start","reset","id","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c84bd48.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/stand_up_logo.190ee485.png\";","/*global firebaseui,firebase*/\r\nimport {USER, GROUP} from '../constants'\r\n\r\nexport default function getArticles(state, action){\r\n\r\n  console.log('dispatch getArticles', state, action.type);\r\n\r\n  if(action.type === USER){\r\n    let articles_of_mine = [];\r\n    let cUser = firebase.auth().currentUser;\r\n    state.articles.forEach((article) => {\r\n      if( article.user.uid && cUser && (article.user.uid ===  cUser.uid)){\r\n        articles_of_mine.push(article);\r\n      }\r\n    });\r\n    return Object.assign({}, state, { articles: articles_of_mine });\r\n  }\r\n  else if(action.type === GROUP){\r\n    //some code would be here\r\n    return Object.assign({},state,action);\r\n  }\r\n  return Object.assign({},state,action);\r\n}","export const USER = 'USER'\r\nexport const GROUP = 'GROUP'\r\nexport const ALL = 'ALL'\r\nexport const LOGIN ='LOGIN'","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { syncHistoryWithStore, routerReducer } from 'react-router-redux'\r\n// 비동기 콜백을 redux에서 처리하는 middleware\r\nimport thunk from 'redux-thunk';\r\nimport * as articleReducers from '../reducers/Article'\r\n\r\n// reducer들을 조합해 줍니다. \r\n// 기본적으로 routerReducer는 router 에서 사용되는 상태들을 가지고 옵니다.\r\n// 우리가 관리할 reducer는 아래에 추가 됩니다\r\nconst reducer = combineReducers({\r\n  ...articleReducers,\r\n  routing: routerReducer\r\n})\r\n//DevTools의 Jsx\r\n//스토어를 만드는데,reducer 와 middleware를 변수로 받아서 처리합니다.\r\nexport const store = createStore(\r\n  reducer,\r\n  applyMiddleware(thunk)\r\n)\r\n//결국 store 객체를 browserHistory와 엮어서 만들어 줍니다.\r\n// export const history = syncHistoryWithStore(browserHistory, store)","/* global firebaseui, firebase */\r\n\r\nexport default class FirebaseDao {\r\n  constructor(config) {\r\n    if (firebase.apps && firebase.apps.length > 0){\r\n      this.firebaseApp = firebase.apps[0];\r\n    } else {\r\n      this.firebaseApp = firebase.initializeApp(config);\r\n    }\r\n  }\r\n  getFirebaseApp() {\r\n    return this.firebaseApp;\r\n  }\r\n\r\n  insert(postData){\r\n    return firebase.database().ref().child('posts').push(postData);\r\n  }\r\n  update(key,postData) {\r\n    const updates = {};\r\n    updates['/posts/' + key] = postData;\r\n    updates['/user-posts/genji/' + key] = postData;\r\n    return firebase.database().ref().update(updates);\r\n  }\r\n  remove(key) {\r\n    return new Promise(resolve => {\r\n      firebase.database().ref('/posts/').child(key).remove();\r\n      firebase.database().ref('/user-posts/genji/').child(key).remove();\r\n      resolve(key);\r\n    });\r\n  }\r\n  off(){\r\n    return firebase.database().ref().off();\r\n  }\r\n  newKey(){\r\n    return firebase.database().ref().child('posts').push().key;\r\n  }\r\n  /**\r\n  * Promise를 호출하게 되면 이벤트가 등록된 부분이 사라기제 된다.\r\n  */\r\n  list(pagesize, callback){\r\n    // return new Promise(resolve=>{\r\n      firebase.database().ref('posts')\r\n              .orderByKey().limitToLast(pagesize)\r\n              .on('value',(articles) => {\r\n                callback(articles);\r\n              })\r\n    // });\r\n  }\r\n  getArticle(key){\r\n    return new Promise(resolve => {\r\n      firebase.database().ref('/posts/'+key)\r\n              .on('value',(articles)=>{\r\n                resolve(articles);\r\n              })\r\n    });\r\n  }\r\n  getUI() {\r\n    return new firebaseui.auth.AuthUI(firebase.auth());\r\n  }\r\n  \r\n  logout(){\r\n    return firebase.auth().signOut();\r\n  }\r\n}","const firebase_config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DB_URL,\r\n  storageBucket: process.env.REACT_APP_STRG_BKT,\r\n  messagingSenderId: process.env.REACT_APP_MSG_SENDER_ID\r\n }\r\n export const embedlyKey = process.env.REACT_APP_EMBEDLY_KEY\r\n export default firebase_config;","import { USER, GROUP,ALL } from '../constants'\r\nimport FirebaseDao from '../FirebaseDao'\r\nimport config from '../config'\r\nconst dao = new FirebaseDao(config);\r\nexport function userArticles() {\r\n  return {\r\n    type: USER\r\n  }\r\n}\r\n/*\r\n* 여기부터\r\n*/\r\nexport function getArticles(articles) {\r\n  const items = [];\r\n  articles.forEach((article) => {\r\n    const item = article.val();\r\n    item['key'] = article.key;\r\n    items.push(item);\r\n  });\r\n  \r\n  console.log('action getArticles', items);\r\n\r\n  if (items && items.length > 0){\r\n    return {\r\n      type : ALL,\r\n      articles : items.reverse()\r\n    }\r\n  }\r\n}\r\n\r\nexport function loadArticles() {\r\n  \r\n  console.log('action loadArticles');\r\n  \r\n  return (dispatch) => {\r\n    dao.list(25, (articles) => dispatch(getArticles(articles)));\r\n  };\r\n}\r\nexport function updateArticle(postData){\r\n  return (dispatch) => {\r\n    dao.update(dao.newKey(), postData);\r\n  };\r\n}\r\nexport function groupArticles(articles) {\r\n  return {\r\n    type: GROUP,\r\n    articles: articles\r\n  }\r\n}","/*global firebase*/\r\nimport React ,{Component} from 'react';\r\nimport './PopCard.css';\r\nimport { userArticles, loadArticles } from './actions/Article';\r\nimport {connect} from 'react-redux';\r\n\r\nclass PopCard extends Component{\r\n  logout(){\r\n    firebase.auth().signOut();\r\n  }\r\n  render(){\r\n    const { dispatch } = this.props;\r\n    if(this.props.isPop){\r\n      return(\r\n        <div className=\"card_pop\">\r\n          <div className=\"card_pop_arrow\"/>\r\n          <div>\r\n          <a href=\"#\" onClick={ ()=>dispatch(userArticles()) }>내 글만 보기</a>\r\n          </div>\r\n          <div>\r\n          <a href=\"#\" onClick={ ()=>dispatch(loadArticles()) }>전체 글 보기</a>\r\n          </div>\r\n          <div>\r\n            <a href=\"#\" onClick={ ()=>this.logout() }>로그아웃</a>\r\n          </div>\r\n        </div>);\r\n    }else{\r\n      return <div/>\r\n    }\r\n  }\r\n}\r\nexport default connect()(PopCard)","import React, { Component } from 'react';\r\nimport './Profile.css';\r\nimport PopCard from './PopCard';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      user: undefined,\r\n      isPop: false\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.setState({ user: user });\r\n      } else {\r\n        this.setState({ user: undefined });\r\n      }\r\n    })\r\n  }\r\n  popProfile() {\r\n    this.setState({ isPop: !this.state.isPop })\r\n  }\r\n  \r\n  render() {\r\n    const user = this.state.user;\r\n    if (user) {\r\n      return (\r\n        <span>\r\n          <div className=\"profile_name\">\r\n            <a href=\"#\" onClick={ () => this.popProfile() }>{ user.displayName }</a>\r\n          </div>\r\n          <div className=\"profile_img_wrap\">\r\n              <img src={ user.photoURL } alt=\"profiles\" className=\"profile_img\"/>\r\n            </div>\r\n            <PopCard isPop={ this.state.isPop }/>\r\n        </span>\r\n      )\r\n    } else {\r\n      return (<div className=\"profile_name\"><Link to=\"/login\">로그인</Link></div>)\r\n    }\r\n  }\r\n  \r\n}\r\nexport default Profile;","import React, { Component } from 'react'\r\nimport './Card.css'\r\n\r\nexport default class Card extends Component {\r\n  render() {\r\n    let cardInfo = this.props.cardInfo;\r\n    if (cardInfo) {\r\n      return (\r\n        <a className=\"card\" href={cardInfo.url} target=\"_blank\">\r\n          <div className=\"card_image\">\r\n            <img src={ cardInfo.links.thumbnail[0].href } alt={ cardInfo.meta.title } className=\"width100 card_img\" />\r\n          </div>\r\n          <div className=\"borderTop\">\r\n          <div className=\"card_text\">\r\n            <p className=\"card_title\">{ cardInfo.meta.title }</p>\r\n            <p className=\"card_desc\">{ cardInfo.meta.description }</p>\r\n            <p className=\"card_provider\">{ cardInfo.meta.site }</p>\r\n          </div>\r\n          </div>\r\n        </a>\r\n      )\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport './Editor.css';\r\nimport Profile from './Profile';\r\nimport getEmbedly from './Embedly';\r\nimport Card from './Card';\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onPaste = this.onPaste.bind(this);\r\n    this.editorChange = this.editorChange.bind(this);\r\n    this.getCard = this.getCard.bind(this);\r\n    this.hasValue = this.hasValue.bind(this);\r\n    this.detectURL = this.detectURL.bind(this);\r\n    this.getArticle = this.getArticle.bind(this);\r\n    this.getForcedState = this.getForcedState.bind(this);\r\n    this.state = {\r\n      embedlyUrl: undefined,\r\n      content: undefined\r\n    };\r\n  }\r\n  getForcedState(embedlyUrl, content) {\r\n    return new Promise(resolve => {\r\n      if (embedlyUrl) {\r\n        getEmbedly(embedlyUrl).then(response => {\r\n          let cardInfo = Object.assign({}, response.data);\r\n\r\n          resolve({\r\n            embedlyUrl,\r\n            content,\r\n            cardInfo\r\n          });\r\n        }).catch(e => {\r\n          resolve({\r\n            embedlyUrl: undefined,\r\n            content: undefined,\r\n            cardInfo: undefined\r\n          });\r\n        });\r\n      } \r\n      else {\r\n        resolve({\r\n          content: content\r\n        })\r\n      }\r\n    })\r\n  }\r\n  handleSubmit(event){\r\n    if (this.hasValue(this.state.content)) {\r\n      event.preventDefault();\r\n      this.props.submit(this.getArticle());\r\n      this.setState({\r\n        embedlyUrl : undefined,\r\n        content : undefined,\r\n        cardInfo : undefined\r\n      });\r\n    }\r\n\r\n  }\r\n  onPaste(event) {\r\n    const content = event.currentTarget.textContent;\r\n    event.clipboardData.items[0].getAsString(text => {\r\n      const checkText = this.detectURL(text);\r\n      if (checkText) {\r\n        this.getForcedState(checkText, content + text).then(obj => {\r\n          this.setState(obj)\r\n        })\r\n      }\r\n    })\r\n  }\r\n  editorChange(event) {\r\n    let checkText = this.detectURL(event.currentTarget.textContent);\r\n\r\n    if (!this.state.embedlyUrl && (event.keyCode === 32 \r\n      || event.keyCode === 13) && checkText) {\r\n        \r\n      this.getForcedState(checkText, event.currentTarget.textContent)\r\n        .then(obj => this.setState(obj))\r\n    } \r\n    // else {\r\n    //   this.getForcedState(undefined, event.currentTarget.textContent)\r\n    //     .then(obj => this.setState(obj))\r\n    // }\r\n  }\r\n  getArticle(){\r\n    const article = {};\r\n    const user = firebase.auth().currentUser;\r\n\r\n    // console.log('user', user);\r\n    article.user = {\r\n        email : user.email,\r\n        displayName : user.displayName,\r\n        uid : user.uid\r\n    };\r\n    article.content = this.state.content;\r\n    if (this.state.embedlyUrl) {\r\n      article.cardInfo = this.state.cardInfo;\r\n    }\r\n\r\n    return article;\r\n  }\r\n  detectURL(text) {\r\n    const urls = text.match(/(https?:\\/\\/[^\\s]+)/g) || text.match(/(www.[^\\s]+)/g);\r\n    if((urls !== null) && (urls.length > 0)) return urls[0];\r\n    else return undefined;\r\n  }\r\n  getCard(embedlyUrl){\r\n    if(embedlyUrl){\r\n      return(\r\n        <div>{embedlyUrl}</div>\r\n      );\r\n    }else{\r\n      return(<div/>);\r\n    }\r\n  }\r\n  hasValue(value) {\r\n    if((value && (typeof value) === \"string\"))\r\n      return (!value) ? false : (value.trim() === \"\" ? false : true)\r\n    else \r\n      return false;\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"wrapEditor\">\r\n        <div className=\"editor_header\">\r\n          <div className=\"today_title\">\r\n            무엇을 공유할까요?\r\n          </div>\r\n          <Profile/>\r\n        </div>\r\n        <div className=\"textEditor\">\r\n          <div className=\"innerEdit\"\r\n            contentEditable=\"true\"\r\n            placeholder=\"글쓰기...\"\r\n            onPaste={this.onPaste}\r\n            onKeyUp={this.editorChange}\r\n            dangerouslySetInnerHTML={{__html: this.state.content}}></div>\r\n            <Card cardInfo={this.state.cardInfo}/>\r\n        </div>\r\n        <div className=\"actionBar\">\r\n          <button className=\"upload\"\r\n            disabled={!this.hasValue(this.state.content)}\r\n            onClick={this.handleSubmit}><span>스탠드업!</span></button>\r\n        </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default Editor;","import request from 'axios';\r\nimport { embedlyKey } from './config';\r\n\r\nexport default function getEmbedly(url) {\r\n  return request.get('http://iframe.ly/api/iframely', {\r\n    params: {\r\n      url: url,\r\n      api_key: embedlyKey\r\n    }\r\n  })\r\n}","import React, { Component } from 'react';\r\nimport Card from './Card'\r\nimport './CardList.css'\r\nimport { connect } from 'react-redux'\r\nimport { loadArticles } from './actions/Article'\r\n\r\nclass CardList extends Component {\r\n  componentWillMount() {\r\n    const { dispatch } = this.props;\r\n    \r\n    dispatch(loadArticles());\r\n  }\r\n  createCard(item, index){\r\n    return(<li className=\"list_row\" key={item.key}>\r\n              <pre className=\"common_margin grey_text\">{item.content}</pre>\r\n              {\r\n                (item.cardInfo)?<Card cardInfo={item.cardInfo}/>:\"\"\r\n              }\r\n            </li>);\r\n  }\r\n  render() {\r\n    if(this.props.articles && this.props.articles.length > 0)\r\n      return <ul>{ this.props.articles.map(this.createCard) }</ul>;\r\n    else return <div key=\"015b\"/>\r\n  }\r\n}\r\nexport default connect(\r\n  (state)=>{\r\n    \r\n    console.log('CardList get state', state);\r\n\r\n    return { articles: state.default.articles };\r\n  }\r\n)(CardList);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux'\nimport logo from './img/stand_up_logo.png';\nimport './Home.css';\nimport Editor from './Editor';\nimport CardList from './CardList'\nimport { updateArticle } from './actions/Article'\n\nclass Home extends Component {\n  constructor(){\n    super();\n    this.submit = this.submit.bind(this);\n  }\n  submit(article){\n    if (article) {\n      const { dispatch } = this.props;\n      dispatch(updateArticle(article));\n      this.forceUpdate();\n    }\n  }\n  render() {\n    return (    \n      <div className=\"App\">\n        <div className=\"App-header\">\n          <Link to=\"/standup\">\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          </Link>\n        </div>\n        <Editor submit={ this.submit }/>\n        <CardList cardInfo={ this.cardInfo } />\n      </div>\n    );\n  }\n}\n\nexport default connect()(Home);","import React, { Component } from 'react';\r\n\r\nexport default class NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div>Not Found!</div>\r\n    )\r\n  }\r\n}","/*global firebaseui,firebase*/\r\n\r\nimport React, { Component } from 'react';\r\nimport FirebaseDao from './FirebaseDao';\r\nimport config from './config';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Login extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.ui = (new FirebaseDao(config)).getUI();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const uiConfig = {\r\n      'signInSuccessUrl': window.location.origin,\r\n      'signInOptions': [\r\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID\r\n      ]\r\n    };\r\n    this.ui.start('#firebaseui-auth', uiConfig);\r\n  }\r\n  componentWillUnmount() {\r\n    this.ui.reset();\r\n  }\r\n  render() {\r\n    return (\r\n      <div id='firebaseui-auth'></div>\r\n    );\r\n  }\r\n};\r\n\r\n// function mapStateToProps(state, ownProps) {\r\n//   console.log(ownProps);\r\n\r\n//   return {\r\n//     id: ownProps.params.id,\r\n//     filter: ownProps.location.query.filter\r\n//   };\r\n// }\r\n\r\n// export default connect(mapStateToProps)(Login);\r\nexport default Login;","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\nimport { store } from './store/global'\r\nimport Home from './Home';\r\nimport NotFound from './NotFound';\r\nimport Login from './Login';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Provider store={ store }>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/standup\"><Home /></Route>\r\n          <Route exact path=\"/login\"><Login /></Route>\r\n          <Route><NotFound /></Route>\r\n        </Switch>\r\n      </Router>\r\n  </Provider>\r\n  );\r\n}\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}