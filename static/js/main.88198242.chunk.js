(this.webpackJsonpstandup=this.webpackJsonpstandup||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/stand_up_logo.190ee485.png"},19:function(e,t,a){e.exports=a.p+"static/media/anonymous.c0e6fd0e.png"},21:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(17),r=a.n(s),o=a(20),c=a(9),l=a(10),u=a(5),d=a(13),m=a(12),h=a(18),v=a.n(h),p=(a(26),a(27),a(28),a(19)),f=a.n(p);var b=function(e){return e?i.a.createElement("div",{className:"anonymous"},i.a.createElement("div",{className:"today_title"},"\ubb34\uc5c7\uc744 \uacf5\uc720\ud560\uae4c\uc694?"),i.a.createElement("div",{className:"anonymous_name"},"\uac90\uc9c0"),i.a.createElement("div",{className:"anonymous_img_wrap"},i.a.createElement("img",{src:f.a,alt:"profiles",className:"anonymous_img"}))):i.a.createElement("div",null)};var g=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.onPaste=n.onPaste.bind(Object(u.a)(n)),n.editorChange=n.editorChange.bind(Object(u.a)(n)),n.getCard=n.getCard.bind(Object(u.a)(n)),n.hasValue=n.hasValue.bind(Object(u.a)(n)),n.detectURL=n.detectURL.bind(Object(u.a)(n)),n.state={embedlyUrl:void 0,content:void 0},n}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){var t=Object.assign({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Genji",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\uac90\uc9c0\uac00 \ud568\uaed8\ud55c\ub2e4.",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://namu.wiki/w/%EA%B2%90%EC%A7%80(%EC%98%A4%EB%B2%84%EC%9B%8C%EC%B9%98)",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\uac90\uc9c0(\uc624\ubc84\uc6cc\uce58)",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"\ube14\ub9ac\uc790\ub4dc \uc5d4\ud130\ud14c\uc778\uba3c\ud2b8 \uc0ac\uc758 FPS \uac8c\uc784 \uc624\ubc84\uc6cc\uce58\uc758 \uc601\uc6c5.\uae30\uacc4\uac00 \ub418\uc5b4\ubc84\ub9b0 \ubab8\uc744 \ubc1b\uc544\ub4e4\uc5ec \ub0b4\uba74\uc758 \ud3c9\ud654\ub97c \ucc3e\uc740 \uac15\ub825\ud55c \uc0ac\uc774\ubcf4\uadf8 \ub2cc\uc790.",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"https://image-proxy.namuwikiusercontent.com/r/https%3A%2F%2Fd1u1mce87gyfbn.cloudfront.net%2Fmedia%2Fartwork%2Fgenji-concept.jpg",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:640,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:480,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"https://image-proxy.namuwikiusercontent.com/r/http%3A%2F%2Fi66.tinypic.com%2F10mpje9.jpg",l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:80,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:80;return{user:e,content:t,urls:[{url:a,title:n,description:i,imageUrl:s,imgWidth:r,imgHeight:o,thumbnailUrl:c,thumbnailWidth:l,thumbnailHeight:u}]}}());t.user="Genji",t.content=this.state.content,t.urls[0].url=this.state.embedlyUrl,this.props.submit(t)}},{key:"onPaste",value:function(e){var t=this;e.clipboardData.items[0].getAsString((function(e){t.detectURL(e)&&t.setState({embedlyUrl:e})}))}},{key:"editorChange",value:function(e){var t=this.detectURL(e.currentTarget.textContent);this.state.embedlyUrl||32!==e.keyCode&&13!==e.keyCode||!t?this.setState({content:e.currentTarget.textContent}):this.setState({embedlyUrl:t,content:e.currentTarget.textContent})}},{key:"detectURL",value:function(e){var t=e.match(/(https?:\/\/[^\s]+)/g)||e.match(/(www.[^\s]+)/g);return null!==t&&t.length>0?t[0]:void 0}},{key:"getCard",value:function(e){return e?i.a.createElement("div",null,e):i.a.createElement("div",null)}},{key:"hasValue",value:function(e){return!(!e||"string"!==typeof e)&&(!!e&&""!==e.trim())}},{key:"render",value:function(){return i.a.createElement("div",{className:"wrapEditor"},i.a.createElement(b,{isAnonymous:this.props.isAnonymous}),i.a.createElement("div",{className:"textEditor"},i.a.createElement("div",{className:"innerEdit",contentEditable:"true",placeholder:"\uae00\uc4f0\uae30...",onPaste:this.onPaste,onKeyUp:this.editorChange}),this.getCard(this.state.embedlyUrl)),i.a.createElement("div",{className:"actionBar"},i.a.createElement("button",{className:"upload",disabled:!this.hasValue(this.state.content),onClick:this.handleSubmit},i.a.createElement("span",null,"\uc2a4\ud0e0\ub4dc\uc5c5!"))))}}]),a}(n.Component),y=a(6),k=a.n(y),E=function(){function e(t){Object(c.a)(this,e),k.a.initializeApp(t)}return Object(l.a)(e,[{key:"insert",value:function(e){return k.a.database().ref().child("posts").push(e)}},{key:"update",value:function(e,t){var a={};return a["/posts/"+e]=t,a["/user-posts/genji/"+e]=t,k.a.database().ref().update(a)}},{key:"remove",value:function(e){return k.a.database().ref("/posts/").child(e).remove(),k.a.database().ref("/user-posts/genji/").child(e).remove()}},{key:"off",value:function(){return k.a.database().ref().off()}},{key:"newKey",value:function(){return k.a.database().ref().child("posts").push().key}},{key:"list",value:function(e){return k.a.database().ref("/posts/").orderByKey().limitToLast(e)}},{key:"getArticle",value:function(e){return k.a.database().ref("/posts/"+e)}}]),e}(),j={apiKey:"AIzaSyDfVWmfYX0DK1Xkn_OBFF2k279dHZvYUJc",authDomain:"standup-7a29b.firebaseapp.com",databaseURL:"https://standup-7a29b.firebaseio.com",storageBucket:"standup-7a29b.appspot.com",messagingSenderId:"574311250064"},A=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).dao=new E(j),e.submit=e.submit.bind(Object(u.a)(e)),e.getArticles=e.getArticles.bind(Object(u.a)(e)),e.state={articles:[]},e}return Object(l.a)(a,[{key:"submit",value:function(e){var t=this;if(e){var a=this.dao.newKey(),n=this.dao.update(a,e);return n.then((function(e){t.dao.list(25).once("value",(function(e){var a=[];e.forEach((function(e){var t=e.val();t.key=e.key,console.log(e.val()),a.push(t)})),a&&a.length>0&&t.setState({articles:a.reverse()})}))})),n}}},{key:"isAnonymous",value:function(){return!0}},{key:"getArticles",value:function(){var e,t=[],a=Object(o.a)(this.state.articles);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(i.a.createElement("li",{key:n.key},n.content))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"componentWillMount",value:function(){var e=this;this.dao.list(25).once("value",(function(t){var a=[];t.forEach((function(e){var t=e.val();t.key=e.key,console.log(e.val()),a.push(t)})),a&&a.length>0&&e.setState({articles:a.reverse()})}))}},{key:"componentWillUnmount",value:function(){this.dao.off()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-header"},i.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"})),i.a.createElement(g,{submit:this.submit,isAnonymous:this.isAnonymous}),i.a.createElement("ul",null,this.getArticles()))}}]),a}(n.Component);a(39);r.a.render(i.a.createElement(A,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.88198242.chunk.js.map