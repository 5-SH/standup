{"version":3,"sources":["img/stand_up_logo.png","img/anonymous.png","Profile.js","Editor.js","Article.js","FirebaseDao.js","config.js","App.js","index.js"],"names":["module","exports","Profile","isAnonymous","className","src","Anonymous","alt","Editor","props","handleSubmit","bind","onPaste","editorChange","getCard","hasValue","detectURL","state","embedlyUrl","undefined","content","event","article","Object","assign","user","url","title","description","imageUrl","imgWidth","imgHeight","thumbnailUrl","thumbnailWidth","thumbnailHeight","urls","Article","this","submit","clipboardData","items","getAsString","text","setState","checkText","currentTarget","textContent","keyCode","match","length","value","trim","contentEditable","placeholder","onKeyUp","disabled","onClick","Component","FirebaseDao","config","firebase","initializeApp","postData","database","ref","child","push","key","updates","update","remove","off","pageSize","orderByKey","limitToLast","firebase_config","apiKey","process","authDomain","databaseURL","storageBucket","messagingSenderId","App","dao","getArticles","articles","newKey","updated","then","_","list","once","dataSnapshots","forEach","dataSnapshot","item","val","console","log","reverse","lis","logo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.88198242.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/stand_up_logo.190ee485.png\";","module.exports = __webpack_public_path__ + \"static/media/anonymous.c0e6fd0e.png\";","import React  from 'react';\r\nimport './Profile.css';\r\nimport Anonymous from './img/anonymous.png';\r\n\r\nfunction Profile(isAnonymous){\r\n  if (isAnonymous) { \r\n    return (\r\n        <div className=\"anonymous\">\r\n          <div className=\"today_title\">\r\n            무엇을 공유할까요?\r\n          </div>\r\n          <div className=\"anonymous_name\">\r\n            겐지\r\n          </div>\r\n          <div className=\"anonymous_img_wrap\">\r\n            <img src={Anonymous} alt=\"profiles\" className=\"anonymous_img\"/>\r\n          </div>\r\n        </div>\r\n    );\r\n  } else {\r\n    return <div/>;\r\n  }\r\n}\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport './Editor.css';\r\nimport Profile from './Profile';\r\nimport Article from './Article'\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onPaste = this.onPaste.bind(this);\r\n    this.editorChange = this.editorChange.bind(this);\r\n    this.getCard = this.getCard.bind(this);\r\n    this.hasValue = this.hasValue.bind(this);\r\n    this.detectURL = this.detectURL.bind(this);\r\n    this.state = {\r\n      embedlyUrl: undefined,\r\n      content: undefined\r\n    };\r\n  }\r\n  handleSubmit(event){\r\n    let article = Object.assign({}, Article());\r\n    article.user = \"Genji\";\r\n    article.content = this.state.content;\r\n    article.urls[0].url = this.state.embedlyUrl;\r\n    this.props.submit(article);\r\n  }\r\n  onPaste(event) {\r\n    event.clipboardData.items[0].getAsString(text => {\r\n      if (this.detectURL(text)) {\r\n        this.setState({ embedlyUrl: text})\r\n      }\r\n    })\r\n  }\r\n  editorChange(event) {\r\n    let checkText = this.detectURL(event.currentTarget.textContent);\r\n\r\n    if (!this.state.embedlyUrl && (event.keyCode === 32 || event.keyCode === 13) && checkText) {\r\n      this.setState({ embedlyUrl: checkText, content:event.currentTarget.textContent });\r\n    } else {\r\n      this.setState({ content: event.currentTarget.textContent });\r\n    }\r\n  }\r\n  detectURL(text) {\r\n    const urls = text.match(/(https?:\\/\\/[^\\s]+)/g) || text.match(/(www.[^\\s]+)/g);\r\n    if((urls !== null) && (urls.length > 0)) return urls[0];\r\n    else return undefined;\r\n  }\r\n  getCard(embedlyUrl){\r\n    if(embedlyUrl){\r\n      return(\r\n        <div>{embedlyUrl}</div>\r\n      );\r\n    }else{\r\n      return(<div/>);\r\n    }\r\n  }\r\n  hasValue(value) {\r\n    if((value && (typeof value) === \"string\"))\r\n      return (!value) ? false : (value.trim() === \"\" ? false : true)\r\n    else \r\n      return false;\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"wrapEditor\">\r\n        <Profile isAnonymous={this.props.isAnonymous}/>\r\n        <div className=\"textEditor\">\r\n          <div \r\n            className=\"innerEdit\" \r\n            contentEditable=\"true\" \r\n            placeholder=\"글쓰기...\" \r\n            onPaste={ this.onPaste } \r\n            onKeyUp={ this.editorChange }></div>\r\n            { this.getCard(this.state.embedlyUrl) }\r\n        </div>\r\n        <div className=\"actionBar\">\r\n          <button className=\"upload\" \r\n            disabled={ !this.hasValue(this.state.content) }\r\n            onClick={this.handleSubmit }>\r\n            <span>스탠드업!</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Editor;","export default function getArticle(\r\n  user = \"Genji\",\r\n  content = \"겐지가 함께한다.\",\r\n  url = \"https://namu.wiki/w/%EA%B2%90%EC%A7%80(%EC%98%A4%EB%B2%84%EC%9B%8C%EC%B9%98)\",\r\n  title=\"겐지(오버워치)\",\r\n  description = \"블리자드 엔터테인먼트 사의 FPS 게임 오버워치의 영웅.기계가 되어버린 몸을 받아들여 내면의 평화를 찾은 강력한 사이보그 닌자.\",\r\n  imageUrl = \"https://image-proxy.namuwikiusercontent.com/r/https%3A%2F%2Fd1u1mce87gyfbn.cloudfront.net%2Fmedia%2Fartwork%2Fgenji-concept.jpg\",\r\n  imgWidth= 640,\r\n  imgHeight = 480,\r\n  thumbnailUrl = \"https://image-proxy.namuwikiusercontent.com/r/http%3A%2F%2Fi66.tinypic.com%2F10mpje9.jpg\" ,\r\n  thumbnailWidth = 80,\r\n  thumbnailHeight =80\r\n){\r\n  return {\r\n    user : user,\r\n    content : content,\r\n    urls:[{\r\n      url : url,\r\n      title:title,\r\n      description : description,\r\n      imageUrl : imageUrl,\r\n      imgWidth: imgWidth,\r\n      imgHeight : imgHeight,\r\n      thumbnailUrl : thumbnailUrl,\r\n      thumbnailWidth : thumbnailWidth,\r\n      thumbnailHeight :thumbnailHeight\r\n    }]\r\n  }\r\n}","import firebase from 'firebase';\r\n\r\nexport default class FirebaseDao {\r\n  constructor(config) {\r\n    firebase.initializeApp(config);\r\n  }\r\n  insert(postData) {\r\n    return firebase.database().ref().child('posts').push(postData);\r\n  }\r\n  update(key, postData) {\r\n    let updates = {};\r\n    updates['/posts/' + key] = postData;\r\n    updates['/user-posts/genji/' + key] = postData;\r\n    return firebase.database().ref().update(updates);\r\n  }\r\n  remove(key) {\r\n    firebase.database().ref('/posts/').child(key).remove();\r\n    return firebase.database().ref('/user-posts/genji/').child(key).remove();\r\n  }\r\n  off() {\r\n    return firebase.database().ref().off();\r\n  }\r\n  newKey() {\r\n    return firebase.database().ref().child('posts').push().key;\r\n  }\r\n  list(pageSize) {\r\n    return firebase.database().ref('/posts/').orderByKey().limitToLast(pageSize);\r\n  }\r\n  getArticle(key) {\r\n    return firebase.database().ref('/posts/' + key);\r\n  }\r\n}","const firebase_config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DB_URL,\r\n  storageBucket: process.env.REACT_APP_STRG_BKT,\r\n  messagingSenderId: process.env.REACT_APP_MSG_SENDER_ID\r\n }\r\n export const embedlyKey = process.env.REACT_APP_EMBEDLY_KEY\r\n export default firebase_config;","import React, { Component } from 'react';\nimport logo from './img/stand_up_logo.png';\nimport './App.css';\nimport Editor from './Editor';\nimport FirebaseDao from './FirebaseDao'\nimport config from './config';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.dao = new FirebaseDao(config);\n    this.submit = this.submit.bind(this);\n    this.getArticles = this.getArticles.bind(this);\n    this.state = {\n      articles: []\n    }\n  }\n  submit(article){\n    if (article) {\n      let key = this.dao.newKey();\n      let updated = this.dao.update(key, article);\n      \n      updated.then(_ => {\n        this.dao.list(25).once('value', dataSnapshots => {\n          let items = [];\n          dataSnapshots.forEach(dataSnapshot => {\n            let item = dataSnapshot.val();\n            item['key'] = dataSnapshot.key;\n            console.log(dataSnapshot.val());\n            items.push(item);\n            \n          });\n          if (items && items.length > 0) {\n            this.setState({\n              articles: items.reverse()\n            });\n          }\n        });\n      })\n\n      return updated;\n    }\n  }\n  isAnonymous(){\n    return true;\n  }\n  getArticles() {\n    let lis = [];\n    for (const article of this.state.articles) {\n      lis.push(<li key={ article.key }>{ article.content }</li>);\n    }\n    return lis;\n  }\n  componentWillMount() {\n    this.dao.list(25).once('value', dataSnapshots => {\n      let items = [];\n      dataSnapshots.forEach(dataSnapshot => {\n        let item = dataSnapshot.val();\n        item['key'] = dataSnapshot.key;\n        console.log(dataSnapshot.val());\n        items.push(item);\n        \n      });\n      if (items && items.length > 0) {\n        this.setState({\n          articles: items.reverse()\n        });\n      }\n    });\n  }\n  componentWillUnmount(){\n    this.dao.off();\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </div>\n        <Editor submit={ this.submit } isAnonymous={ this.isAnonymous }/>\n        <ul>\n          { this.getArticles() }\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}